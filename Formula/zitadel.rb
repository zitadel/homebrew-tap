# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Zitadel < Formula
  desc "Open source identity solution built for the container and cloud era"
  homepage "https://zitadel.ch"
  version "1.80.0-pref-login-name.3"
  license "Apache 2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.3/zitadel_1.80.0-pref-login-name.3_darwin_arm64"
      sha256 "ba9b4199ef75675943f3a6752da0756b4bc5a27b840dcf6f8a65ae4e10e8b9bc"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.3/zitadel_1.80.0-pref-login-name.3_darwin_amd64"
      sha256 "1314a62059c6c6cdddd156c909ba5f5174f1783b0b0d0376f11afbe896c3639d"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.3/zitadel_1.80.0-pref-login-name.3_linux_amd64"
      sha256 "a93e51043d47c820b0728f580a3b52c558d8e54c0b2b752412fc2171220f15c8"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.3/zitadel_1.80.0-pref-login-name.3_linux_arm64"
      sha256 "673e5173cb40f3c131f7e1b2e3aa371aaf9c6704e13fed8a88663fd348b8f4a9"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
  end

  depends_on "go" => :optional
  depends_on "git"

  test do
    system "#{bin}/zitadel -v"
  end
end
