# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Zitadel < Formula
  desc "Open source identity solution built for the container and cloud era"
  homepage "https://zitadel.ch"
  version "1.80.0-pref-login-name.1"
  license "Apache 2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.1/zitadel_1.80.0-pref-login-name.1_darwin_arm64"
      sha256 "a9f5e8ddea28f95a5b2b32f4bab3f3aa04f2f54ae881d5daae1affc1cd4fcb01"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.1/zitadel_1.80.0-pref-login-name.1_darwin_amd64"
      sha256 "c01814d517cb9625869603265786431d7400ce7052af0e5d6f2f6e3c90bf2b1c"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.1/zitadel_1.80.0-pref-login-name.1_linux_arm64"
      sha256 "21e7dc96510db5d5eabda8c68757dcd9365a9b426d465bd52a241a32a51edf32"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.1/zitadel_1.80.0-pref-login-name.1_linux_amd64"
      sha256 "58b8ada4a09d3c405b350e8adb7b7424be5da4fa50963c094c7c03d403f9b08e"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
  end

  depends_on "go" => :optional
  depends_on "git"

  test do
    system "#{bin}/zitadel -v"
  end
end
