# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Zitadel < Formula
  desc "Open source identity solution built for the container and cloud era"
  homepage "https://zitadel.com"
  version "2.22.0"
  license "Apache 2.0"

  depends_on "go" => :optional
  depends_on "git"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/zitadel/zitadel/releases/download/v2.22.0/zitadel_Darwin_arm64.tar.gz"
      sha256 "7ed76cdd9d6d65dec809596813a44e26583425e30c2a0f54601deaaf451ad798"

      def install
        bin.install "zitadel"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v2.22.0/zitadel_Darwin_x86_64.tar.gz"
      sha256 "a2fa5da7e0ec45802bb8201f444d657ade2f8a8c4851c22c399927c93556521d"

      def install
        bin.install "zitadel"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/zitadel/zitadel/releases/download/v2.22.0/zitadel_Linux_arm64.tar.gz"
      sha256 "2cbbac7902dd3f0044f3a7f8d54a0089f3bf7d3f37d203133cfeadb9e776804f"

      def install
        bin.install "zitadel"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v2.22.0/zitadel_Linux_x86_64.tar.gz"
      sha256 "10d83d75cf64da2d0c5f341a265698ed45510d37f429a06eb676ef59c5a0ca44"

      def install
        bin.install "zitadel"
      end
    end
  end

  test do
    system "#{bin}/zitadel -v"
  end
end
