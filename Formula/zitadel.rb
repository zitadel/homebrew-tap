# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Zitadel < Formula
  desc "Open source identity solution built for the container and cloud era"
  homepage "https://zitadel.com"
  version "2.20.1"
  license "Apache 2.0"

  depends_on "go" => :optional
  depends_on "git"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/zitadel/zitadel/releases/download/v2.20.1/zitadel_Darwin_arm64.tar.gz"
      sha256 "6b9ed9b416c04ceed79e38cab8a2df685b1706c64338849157d2500972fcd743"

      def install
        bin.install "zitadel"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v2.20.1/zitadel_Darwin_x86_64.tar.gz"
      sha256 "077710c8e71a65eb645c48f958563b138c2d69716535ae3f0d8ede4b51e775ed"

      def install
        bin.install "zitadel"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v2.20.1/zitadel_Linux_x86_64.tar.gz"
      sha256 "b9f12b02be58e806e669c75dbf53a4cc6afd5e2677a5c913cb2ff5798543372e"

      def install
        bin.install "zitadel"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/zitadel/zitadel/releases/download/v2.20.1/zitadel_Linux_arm64.tar.gz"
      sha256 "027486ac9ff6bb41a3360f6702dde08fbc081cd87b6d213c36081fdf06c4f83b"

      def install
        bin.install "zitadel"
      end
    end
  end

  test do
    system "#{bin}/zitadel -v"
  end
end
