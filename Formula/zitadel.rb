# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Zitadel < Formula
  desc "Open source identity solution built for the container and cloud era"
  homepage "https://zitadel.ch"
  version "1.80.0-pref-login-name.4"
  license "Apache 2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.4/zitadel_1.80.0-pref-login-name.4_darwin_amd64"
      sha256 "5a7c8c1a753bc0ff9de170be77c62379350d2dc59126352e2047670d9625b69a"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.4/zitadel_1.80.0-pref-login-name.4_darwin_arm64"
      sha256 "214e65614abe55ec76d0002d51c1900001cdbf86ccc8333f5825c753c2329595"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.4/zitadel_1.80.0-pref-login-name.4_linux_arm64"
      sha256 "c9bce11320c4276fe388568a1d32c15d7d27f2059c28483a767d55c947af70ef"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/zitadel/zitadel/releases/download/v1.80.0-pref-login-name.4/zitadel_1.80.0-pref-login-name.4_linux_amd64"
      sha256 "1d1bcfae5736d39966171448c0d8900eb49b18e12189cc84bba5558d53680921"

      def install
        bin.install "zitadel"
        bash_completion.install "completions/zitadel.bash" => "zitadel"
        zsh_completion.install "completions/zitadel.zsh" => "zitadel"
        fish_completion.install "completions/gorezitadelleaser.fish"
        man1.install "manpages/zitadel.1.gz"
      end
    end
  end

  depends_on "go" => :optional
  depends_on "git"

  test do
    system "#{bin}/zitadel -v"
  end
end
